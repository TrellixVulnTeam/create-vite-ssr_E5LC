import { assertUsage, hasProp } from './utils';
import { assertHook } from '../shared/getHook';
export { assertRenderHook };
function assertRenderHook(pageContext) {
    var _a;
    if (!hasProp(pageContext.exports, 'render')) {
        const pageFilesClient = pageContext._pageFilesAll.filter((p) => p.fileType === '.page.client' && p.isRelevant(pageContext._pageId));
        let errMsg;
        if (pageFilesClient.length === 0) {
            const url = (_a = pageContext.url) !== null && _a !== void 0 ? _a : window.location.href;
            errMsg = 'No file `*.page.client.*` found for URL ' + url;
        }
        else {
            errMsg =
                'One of the following files should export a `render()` hook: ' +
                    pageFilesClient.map((p) => p.filePath).join(' ');
        }
        assertUsage(false, errMsg);
    }
    assertHook(pageContext, 'render');
}
