"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRoot = void 0;
const utils_1 = require("../utils");
const path_1 = require("path");
function getRoot(config) {
    let root = config.root || process.cwd();
    (0, utils_1.assertUsage)((0, path_1.isAbsolute)(root), 
    // Looking at Vite's source code, Vite does seem to normalize `root`.
    // But this doens't seem to be always the case, see https://github.com/brillout/vite-plugin-ssr/issues/208
    'The `root` config in your `vite.config.js` should be an absolute path. (I.e. `/path/to/root` instead of `../path/to/root`.)');
    root = (0, utils_1.toPosixPath)(root);
    return root;
}
exports.getRoot = getRoot;
